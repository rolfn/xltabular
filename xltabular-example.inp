
\newcommand*\showCounterTable{%
  \noindent The Counter \textbf{table:~\arabic{table}}\par
}

\begin{document}

\chapter{Chapter 1}
\section{Section 1 of Chapter 1}

\showCounterTable
\begin{xltabular}[l]{.7\linewidth}{|c|X|X|}
\caption{A table with a caption\label{tab:A}} \\
\hline
1 & \hrulefill 2 \hrulefill & \hrulefill 3 \hrulefill \\
4 & \hrulefill 5 \hrulefill & \hrulefill 6 \hrulefill \\
\hline
\end{xltabular}
\showCounterTable

\section{Section 2 of Chapter 1}

\showCounterTable
\begin{xltabular}[r]{.7\linewidth}{|c|X|X|}
\hline
1 & \hrulefill 2 \hrulefill & \hrulefill 3 \hrulefill \\
4 & \hrulefill 5 \hrulefill & \hrulefill 6 \hrulefill \\
\hline
\end{xltabular}
\showCounterTable

\section{Section 3 of Chapter 1}

\showCounterTable
\begin{xltabular}[r]{.7\linewidth}{|c|X|X|}
\caption{A table with a caption\label{tab:B}} \\
\hline
1 & \hrulefill 2 \hrulefill & \hrulefill 3 \hrulefill \\
4 & \hrulefill 5 \hrulefill & \hrulefill 6 \hrulefill \\
\hline
\end{xltabular}
\showCounterTable

\section{Section 4 of Chapter 1}

\showCounterTable
\begin{xltabular}[r]{.7\linewidth}{|c|X|X|}
\caption*{A table with a star caption\label{tab:BB}} \\
\hline
1 & \hrulefill 2 \hrulefill & \hrulefill 3 \hrulefill \\
4 & \hrulefill 5 \hrulefill & \hrulefill 6 \hrulefill \\
\hline
\end{xltabular}
\showCounterTable

\showCounterTable
\begin{xltabular}[r]{.7\linewidth}{|c|X|X|}
\caption{A table with a normal caption\label{tab:BBB}} \\
\hline
1 & \hrulefill 2 \hrulefill & \hrulefill 3 \hrulefill \\
4 & \hrulefill 5 \hrulefill & \hrulefill 6 \hrulefill \\
\hline
\end{xltabular}
\showCounterTable

\chapter{Chapter 2}
\section{Section 1 of Chapter 2}

\showCounterTable
\begin{xltabular}[c]{.7\linewidth}{|c|X|X|}
\caption{A table with a caption\label{tab:C}} \\
\hline
1 & \hrulefill 2 \hrulefill & \hrulefill 3 \hrulefill \\
4 & \hrulefill 5 \hrulefill & \hrulefill 6 \hrulefill \\
\hline
\end{xltabular}
\showCounterTable

\section{Section 2 of Chapter 2}

\showCounterTable
\begin{xltabular}[c]{.7\linewidth}{|c|X|X|}
\caption{A table with a caption\label{tab:D}} \\
\hline
1 & \hrulefill 2 \hrulefill & \hrulefill 3 \hrulefill \\
4 & \hrulefill 5 \hrulefill & \hrulefill 6 \hrulefill \\
\hline
\end{xltabular}
\showCounterTable


\section{Section 3 of Chapter 2}

\showCounterTable
\begin{xltabular}[c]{.7\linewidth}{|c|X|X|}
\caption{A table with a caption\label{tab:DD}} \\
\hline
 & \begin{enumerate}\item foo \item bar \end{enumerate} & \\
1 & \hrulefill 2 \hrulefill & \hrulefill 3 \hrulefill \\
4 & \hrulefill 5 \hrulefill & \hrulefill 6 \hrulefill \\
\hline
\end{xltabular}
\showCounterTable


\section{Section 4 of Chapter 2 -- some references}

\begin{itemize}
  \item Table~\ref{tab:A} is on page~\pageref{tab:A}
  \item Table~\ref{tab:B} is on page~\pageref{tab:B}
  \item Table~\ref{tab:C} is on page~\pageref{tab:C}
  \item Table~\ref{tab:D} is on page~\pageref{tab:D}
\end{itemize}


\begin{longtable}{c}
\caption{caption}
\endfirsthead
xxx\\xxx
xxx\\xxx
\end{longtable}

\listoftables

\end{document}

\endinput
